<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slovní hodiny</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: slategray;
            color: white;            
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        table {
            width: 100%;
            table-layout: fixed;
            border-collapse: collapse;
        }
        td {
            justify-content: center;
            align-items: center;
			text-align: center;			
            border: 1px solid white;
        }	
        .highlighted {
            background-color: orange !important;			
			color: white;
			font-weight: bold;
        }
    </style>
</head>
<body>
<div class="container">
    <table id="namesTable" class="table table-bordered"></table>
</div>

<script>
    const names = [
        ["J", "E", "J", "S", "O", "U", "J", "E", "D", "N", "A"],
        ["D", "E", "V", "Ě", "T", "P", "Ě", "T", "D", "V", "Ě"],
        ["S", "E", "D", "M", "D", "V", "A", "N", "Á", "C", "T"],
        ["D", "E", "S", "E", "T", "Ř", "I", "Š", "E", "S", "T"],
        ["O", "S", "M", "J", "E", "D", "E", "N", "Á", "C", "T"],
        ["Č", "T", "Y", "Ř", "I", "X", "D", "E", "S", "E", "T"],
        ["D", "V", "A", "C", "E", "T", "Ř", "I", "C", "E", "T"],
        ["P", "A", "T", "N", "Á", "C", "T", "N", "U", "L", "A"],
        ["H", "K", "Č", "T", "Y", "Ř", "I", "C", "E", "T", "Z"],
        ["P", "A", "D", "E", "S", "Á", "T", "B", "P", "Ě", "T"]
    ];

    const hoursPositions = {
        1: [[1,1],[1,2],[1,7],[1,8],[1,9],[1,10],[1,11]],
        2: [[1,3],[1,4],[1,5],[1,6],[2,9],[2,10],[2,11]],
        3: [[1,3],[1,4],[1,5],[1,6],[4,5],[4,6],[4,7]],
        4: [[1,3],[1,4],[1,5],[1,6],[6,1],[6,2],[6,3],[6,4],[6,5]],
        5: [[1,1],[1,2],[2,6],[2,7],[2,8]],
        6: [[1,1],[1,2],[4,8],[4,9],[4,10],[4,11]],
        7: [[1,1],[1,2],[3,1],[3,2],[3,3],[3,4]],
        8: [[1,1],[1,2],[5,1],[5,2],[5,3]],
        9: [[1,1],[1,2],[2,1],[2,2],[2,3],[2,4],[2,5]],
        10: [[1,1],[1,2],[4,1],[4,2],[4,3],[4,4],[4,5]],
        11: [[1,1],[1,2],[5,4],[5,5],[5,6],[5,7],[5,8],[5,9],[5,10],[5,11]],
        12: [[1,1],[1,2],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11]]
    };

    const minutesPositions = {
        0: [[8, 8], [8, 9], [8, 10], [8, 11]],
        5: [[8, 8], [8, 9], [8, 10], [8, 11], [10, 9], [10, 10], [10, 11]],
        10: [[6, 7], [6, 8], [6, 9], [6, 10], [6, 11]],
        15: [[8, 1], [8, 2], [8, 3], [8, 4], [8, 5], [8, 6], [8, 7]],
        20: [[7, 1], [7, 2], [7, 3], [7, 4], [7, 5], [7, 6]],
        25: [[7, 1], [7, 2], [7, 3], [7, 4], [7, 5], [7, 6], [10, 9], [10, 10], [10, 11]],
        30: [[7, 6], [7, 7], [7, 8], [7, 9], [7, 10], [7, 11]],
        35: [[7, 6], [7, 7], [7, 8], [7, 9], [7, 10], [7, 11], [10, 9], [10, 10], [10, 11]],
        40: [[9, 3], [9, 4], [9, 5], [9, 6], [9, 7], [9, 8], [9, 9], [9, 10]],
        45: [[9, 3], [9, 4], [9, 5], [9, 6], [9, 7], [9, 8], [9, 9], [9, 10], [10, 9], [10, 10], [10, 11]],
        50: [[10, 1], [10, 2], [10, 3], [10, 4], [10, 5], [10, 6], [10, 7]],
        55: [[10, 1], [10, 2], [10, 3], [10, 4], [10, 5], [10, 6], [10, 7], [10, 9], [10, 10], [10, 11]]
    };

    // Create the table and insert it into the page
    document.addEventListener('DOMContentLoaded', function () {
        const table = document.getElementById('namesTable');
        names.forEach(row => {
            const tr = document.createElement('tr');
            row.forEach(char => {
                const td = document.createElement('td');
                td.textContent = char;
                tr.appendChild(td);
            });
            table.appendChild(tr);
        });

        // Initial highlight and setup interval for periodic update
        highlightCells();
        setInterval(highlightCells, 60000); // Update every minute
    });

    function highlightCells() {
        const now = new Date();
        const hour = now.getHours() % 12 || 12; // Convert 24-hour to 12-hour format
        const minute = Math.floor(now.getMinutes() / 5) * 5; // Round down to the nearest 10

        // Clear previous highlights
        document.querySelectorAll('#namesTable td').forEach(td => {
            td.classList.remove('highlighted');
        });

        // Apply new highlights for the current hour
        if (hoursPositions[hour]) {
            hoursPositions[hour].forEach(([row, col]) => {
                const cell = document.querySelector(`#namesTable tr:nth-child(${row}) td:nth-child(${col})`);
                if (cell) cell.classList.add('highlighted');
            });
        }

        // Apply new highlights for the current minute // slategray dimgray //
        if (minutesPositions[minute]) {
            minutesPositions[minute].forEach(([row, col]) => {
                const cell = document.querySelector(`#namesTable tr:nth-child(${row}) td:nth-child(${col})`);
                if (cell) cell.classList.add('highlighted');
            });
        }
    }
</script>
